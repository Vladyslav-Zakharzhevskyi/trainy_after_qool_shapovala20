<div id="application-rental" data-name="application-rental-content">
  <div class="container mt-5">

    <form id="advertisement-form" name="rent-app-form">
      <mat-horizontal-stepper linear #stepper>
        <mat-step [formGroup]="personalInfoValidator" [stepControl]="personalInfoValidator">
          <ng-template matStepLabel>Personal Info</ng-template>
          <div class="row">
            <mat-form-field class="w-25 p-3">
              <mat-label>Name</mat-label>
              <input matInput name="name" [(ngModel)]="advertisementModel.clientInfo.name" formControlName="name" placeholder="Name" required>
              <mat-error *ngIf="personalInfoValidator.get('name').invalid">{{getErrorMessage(personalInfoValidator, "name")}}</mat-error>
            </mat-form-field>
          </div>
          <div class="row">
            <mat-form-field class="w-25 p-3">
              <mat-label>E-mail</mat-label>
              <input matInput name="email" [(ngModel)]="advertisementModel.clientInfo.email" formControlName="email" placeholder="Email" required>
              <mat-error *ngIf="personalInfoValidator.get('email').invalid">{{getErrorMessage(personalInfoValidator, "email")}}</mat-error>
            </mat-form-field>
          </div>
          <div class="row">
            <mat-form-field class="w-25 p-3">
              <mat-label>Mobile phone</mat-label>
              <input matInput name="mobilePhone" [(ngModel)]="advertisementModel.clientInfo.mobilePhone" formControlName="phone" placeholder="Mobile Phone" required>
              <mat-error *ngIf="personalInfoValidator.get('phone').invalid">{{getErrorMessage(personalInfoValidator,"phone")}}</mat-error>
            </mat-form-field>
          </div>
          <div class="row">
            <mat-form-field class="w-25 p-3">
              <mat-label>City</mat-label>
              <input matInput name="city" [(ngModel)]="advertisementModel.clientInfo.city" formControlName="city" placeholder="City" required>
              <mat-error *ngIf="personalInfoValidator.get('city').invalid">{{getErrorMessage(personalInfoValidator, "city")}}</mat-error>
            </mat-form-field>
          </div>
          <div class="mt-3">
            <button mat-stroked-button matStepperNext color="primary" type="button">Next</button>
          </div>

        </mat-step>

        <mat-step [formGroup]="advertisementInfoValidator" [stepControl]="advertisementInfoValidator">
          <ng-template matStepLabel>Advertisement Info</ng-template>

          <div class="row">
            <mat-form-field class="w-25 p-3">
              <mat-label>Title</mat-label>
              <input matInput name="title" [(ngModel)]="advertisementModel.title" formControlName="title" placeholder="Title">
              <mat-error *ngIf="advertisementInfoValidator.get('title').invalid">{{getErrorMessage(advertisementInfoValidator, "title")}}</mat-error>
            </mat-form-field>
            <mat-form-field class="w-25 p-3">
              <mat-label>Type</mat-label>
              <mat-select [(ngModel)]="advertisementModel.type" formControlName="nonEmpty" [(value)]="advertisementModel.type">
                <mat-option name="type" *ngFor="let type of ['Sell', 'Rental']" [value]="type">
                  {{type}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="w-25 p-3">
              <mat-label>Description</mat-label>
              <textarea matInput name="description" [(ngModel)]="advertisementModel.description" formControlName="description"></textarea>
              <mat-error *ngIf="advertisementInfoValidator.get('description').invalid">{{getErrorMessage(advertisementInfoValidator, "description")}}</mat-error>
            </mat-form-field>
            <mat-form-field class="w-25 p-3">
              <mat-label>Cost</mat-label>
              <input matInput type="number" name="cost" [(ngModel)]="advertisementModel.cost" formControlName="cost" placeholder="Cost">
              <mat-error *ngIf="advertisementInfoValidator.get('cost').invalid">{{getErrorMessage(advertisementInfoValidator, "cost")}}</mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="w-25 p-3">
              <mat-label>Room Count</mat-label>
              <input matInput type="number" name="countRoom" [(ngModel)]="advertisementModel.countRoom" formControlName="countRoom" placeholder="Room Count">
              <mat-error *ngIf="advertisementInfoValidator.get('countRoom').invalid">{{getErrorMessage(advertisementInfoValidator, "countRoom")}}</mat-error>
            </mat-form-field>
            <mat-form-field class="w-25 p-3">
              <mat-label>Floor Number</mat-label>
              <input matInput type="number" name="floorNumber" [(ngModel)]="advertisementModel.floorNumber" formControlName="floorNumber" placeholder="Floor Number">
              <mat-error *ngIf="advertisementInfoValidator.get('floorNumber').invalid">{{getErrorMessage(advertisementInfoValidator, "floorNumber")}}</mat-error>
            </mat-form-field>
          </div>

          <div class="row w-25 p-3" >
            <mat-checkbox name="isBargain" [(ngModel)]="advertisementModel.isBargain" formControlName="nonEmpty">Is Bargain Available</mat-checkbox>
          </div>

          <div class="mt-3">
            <button mat-stroked-button matStepperPrevious color="primary" type="button">Back</button>
            <button mat-stroked-button matStepperNext class="ml-3" color="primary" type="button">Next</button>
          </div>
        </mat-step>

        <mat-step>
          <ng-template matStepLabel>Submit</ng-template>
          <div id="submit-btn" class="row w-25">
            <button mat-stroked-button color="primary" class="btn-block" (click)="submit()">Add Advertisement</button>
          </div>
          <div class="mt-3">
            <button mat-stroked-button matStepperPrevious color="primary" type="button">Back</button>
          </div>
        </mat-step>
      </mat-horizontal-stepper>
    </form>

  </div>
</div>
